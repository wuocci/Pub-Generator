(this.webpackJsonpgenerator=this.webpackJsonpgenerator||[]).push([[0],{34:function(e){e.exports=JSON.parse('[{"name":"Ravintola Kerho","address":"Satamakatu 7","category":"MainStreet"},{"name":"Kaijakka","address":"Laukontori 12","category":"MainStreet"},{"name":"Thrasherie Bar","address":"H\xe4meenkatu 30","category":"MainStreet"},{"name":"Mallas2","address":"H\xe4meenkatu 30","category":"MainStreet"},{"name":"Pub Simon","address":"H\xe4meenkatu 26","category":"MainStreet"},{"name":"Ale-Pub H\xe4ll\xe4nkellari","address":"H\xe4meenkatu 25","category":"MainStreet"},{"name":"Ravintola Teerenpeli","address":"H\xe4meenkatu 25","category":"MainStreet"},{"name":"Bar Ihku","address":"H\xe4meenkatu 23","category":"MainStreet"},{"name":"Heidi\'s Bier Bar","address":"H\xe4meenkatu 24","category":"MainStreet"},{"name":"Vanha Monttu","address":"H\xe4meenkatu 17","category":"MainStreet"},{"name":"Save File","address":"Aleksis Kiven katu 24","category":"MainStreet"},{"name":"Public Corner","address":"Keskustori 5","category":"MainStreet"},{"name":"Ruby & Fellas Irish Bar","address":"H\xe4meenkatu 15","category":"MainStreet"},{"name":"Old Irish Pub","address":"H\xe4meenkatu 25","category":"MainStreet"},{"name":"Tillikka","address":"H\xe4meenkatu 14","category":"MainStreet"},{"name":"Paapan Kapakka","address":"Koskikatu 9","category":"MainStreet"},{"name":"Pyynikin Brewhouse","address":"Verkatehtaankatu 2","category":"MainStreet"},{"name":"Pub Ukko Nooa","address":"Hatanp\xe4\xe4n valtatie 1","category":"MainStreet"},{"name":"Broor","address":"Hatanp\xe4\xe4n valtatie 12","category":"MainStreet"},{"name":"Gastropub Soho","address":"Otavalankatu 10","category":"MainStreet"},{"name":"O\'Connels","address":"Rautatienkatu 24","category":"MainStreet"},{"name":"Olutravintola Konttori","address":"Verkatehtaankatu 5","category":"MainStreet"},{"name":"Majava Baari","address":"Aleksanterinkatu 29","category":"MainStreet"},{"name":"Cafe Europa","address":"Aleksanterinkatu 29","category":"MainStreet"},{"name":"Ravintola Bord","address":"Koskikatu 5","category":"MainStreet"},{"name":"Bar Moe\'s","address":"Koskikatu 5","category":"MainStreet"},{"name":"Bar Inez","address":"Pellavatehtaankatu 19","category":"MainStreet"},{"name":"Henkka","address":"H\xe4meenkatu 13","category":"MainStreet"},{"name":"H5","address":"H\xe4meenkatu 6","category":"MainStreet"},{"name":"Alanya Bar","address":"Satakunnankatu 26","category":"MainStreet"},{"name":"Ale Bar Pikajuna","address":"H\xe4meenkatu 5","category":"MainStreet"},{"name":"Saunaravintola Kuuma","address":"Laukontori 21","category":"MainStreet"},{"name":"Jolene Karaoke Bar","address":"Aleksanterinkatu 22","category":"MainStreet"},{"name":"Tiikerihai","address":"H\xe4meenkatu 5","category":"MainStreet"},{"name":"Hovipoika","address":"Keskustori 5","category":"MainStreet"},{"name":"Oluthuone Panimomestari","address":"Tuomiokirkonkatu 15","category":"MainStreet"},{"name":"Semafori","address":"Rautatienkatu 25","category":"MainStreet"},{"name":"Ale Pupi","address":"Rautatienkatu 14","category":"MainStreet"},{"name":"Jerun Piilopaikka","address":"H\xe4meenkatu 10","category":"MainStreet"},{"name":"Pub Kytt\xe4l\xe4","address":"Kytt\xe4l\xe4nkatu 9","category":"MainStreet"},{"name":"Ravintola Teatterinkulma","address":"Hallituskatu 19","category":"MainStreet"},{"name":"Muusa","address":"Satakunnankatu 10","category":"MainStreet"},{"name":"Dam Bar","address":"Satakunnankatu 13","category":"MainStreet"},{"name":"Periscope","address":"Vuolteenkatu 1","category":"MainStreet"},{"name":"Bar Cafe Lategame","address":"Kuninkaankatu 19","category":"MainStreet"},{"name":"Ravintola Ohranjyv\xe4","address":"N\xe4silinnankatu 15","category":"MainStreet"},{"name":"Maanalainen","address":"H\xe4meenpuisto 17","category":"MainStreet"},{"name":"GastroPub Nordic","address":"Otavalankatu 3","category":"MainStreet"},{"name":"Gastropub Tuulensuu","address":"H\xe4meenpuisto 23","category":"MainStreet"},{"name":"Ravintola Ukkometso","address":"Kauppakatu 16","category":"MainStreet"},{"name":"Kievari Kahdet Kasvot","address":"Kauppakatu 14","category":"MainStreet"},{"name":"Bar K","address":"Kauppakatu 11","category":"MainStreet"},{"name":"Ravintola Artturi","address":"Kauppakatu 9","category":"MainStreet"},{"name":"Deli 1909 & Wine Bar","address":"Puutarhakatu 11","category":"MainStreet"},{"name":"Salhojankadun Pub","address":"Salhojankatu 29","category":"TamKal"},{"name":"Amadeus","address":"Tammelan puistokatu 34","category":"TamKal"},{"name":"Mixei","address":"Itsen\xe4isyydenkatu 7","category":"TamKal"},{"name":"Tentti","address":"Itsen\xe4isyydenkatu 5","category":"TamKal"},{"name":"Ravintola Klubi","address":"Tullikamarin aukio 2","category":"TamKal"},{"name":"Ravintola Telakka","address":"Tullikamarin aukio 3","category":"TamKal"},{"name":"Kaltsubar","address":"Kalevan Puistotie 17","category":"TamKal"},{"name":"Katubaari Axu","address":"Ilmarinkatu 47","category":"TamKal"},{"name":"Leijona Pub","address":"Sammonkatu 32","category":"TamKal"},{"name":"Public House Huurre","address":"Sammonkatu 46","category":"TamKal"},{"name":"Loukon Pub","address":"Sammonkatu 37","category":"TamKal"},{"name":"Ravintola Lapin Akka","address":"V\xe4in\xe4m\xf6isenkatu 26","category":"TamKal"},{"name":"Bar Oma","address":"Aaltosenkatu 31","category":"TamKal"},{"name":"Pub Pikilinna","address":"Ilmarinkatu 9","category":"TamKal"},{"name":"Wanha Mestari","address":"Tammelan puistokatu 27","category":"TamKal"},{"name":"Bar Passion","address":"Kangaskatu 14","category":"TamKal"},{"name":"Ravintola Kantis","address":"Tullikamarin aukio 1","category":"TamKal"},{"name":"Pub Harald","address":"Kalevan puistotie 7","category":"TamKal"},{"name":"Pub Dog\'s Home","address":"Itsen\xe4isyydenkatu 2","category":"TamKal"},{"name":"Bar 5/5","address":"Teiskontie 8","category":"TamKal"},{"name":"Bonker Moodcourt","address":"Ratapihankatu 39","category":"TamKal"},{"name":"Ahjo Pub","address":"Pellervonkatu 6","category":"TamKal"},{"name":"Arjuska","address":"Teekkarinkatu 17","category":"HerWood"},{"name":"Varjobaari (Hervanta)","address":"Insin\xf6\xf6rinkatu 38","category":"HerWood"},{"name":"Kasibaari","address":"Ylioppilaankatu 6","category":"HerWood"},{"name":"Peyton Place","address":"Teekkarinkatu 17","category":"HerWood"},{"name":"Bar Amazonas","address":"Insin\xf6\xf6rinkatu 38","category":"HerWood"},{"name":"Ale Pub Potti","address":"Insin\xf6\xf6rinkatu 30","category":"HerWood"},{"name":"Pub Kultainen Apina","address":"Insin\xf6\xf6rinkatu 30","category":"HerWood"},{"name":"Pub Wanha Sepp\xe4","address":"Opiskelijankatu 1","category":"HerWood"},{"name":"Bar Nurkka","address":"Parkanonkatu 29","category":"HerWood"}]')},73:function(e,a,t){},74:function(e,a,t){},86:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t(10),s=t.n(r),o=(t(73),t(74),t(35)),i=t.p+"static/media/beers3.48da99b6.png",c=t(2),u=function(){return Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("img",{src:i,alt:"Logo with three beers on it",onClick:function(){return window.location.reload()}}),Object(c.jsx)(o.a,{variant:"h1",children:"Tampereen kapakkageneraattori"}),Object(c.jsx)(o.a,{variant:"body1",children:"kaikkien janoisten sankari"})]})},l=t(12),d=t(136),m=t(142),k=t(144),j=t(63),b=t(132),h=t(128),y=t(141),g=t(131),p=t(129),v=t(130),O=function(e){var a=e.showDialog,t=e.pubName,n=function(){a.current=!1};return Object(c.jsx)("div",{className:"dialog",children:Object(c.jsxs)(y.a,{open:a.current,onClose:n,"aria-labelledby":"make-google-search-dialog",children:[Object(c.jsxs)(h.a,{id:"dialog-title",children:["Hae lis\xe4tietoja kapakasta: ",t.current," ?"]}),Object(c.jsx)(p.a,{children:Object(c.jsx)(v.a,{id:"dialog-description",children:"(Avautuu uudelle v\xe4lilehdelle)"})}),Object(c.jsxs)(g.a,{children:[Object(c.jsx)(b.a,{onClick:function(){a.current=!1;var e=t.current;["1","2","3","4","5"].includes(e[0])&&(e=e.substring(3));var n=encodeURIComponent(e);console.log(n),window.open("https://www.google.com/search?q="+n+" Tampere")},className:"search-button",variant:"outlined",color:"primary",children:"Hae"}),Object(c.jsx)(b.a,{onClick:n,className:"return-button",variant:"outlined",color:"secondary",children:"Palaa"})]})]})})},x=t(50),f=t.n(x),S=t(61),M=t(25),T=t.n(M),K=t(143),H=t(134),P=t(133),N=t(62),w=t.n(N),C=function(){var e=Object(n.useState)(!0),a=Object(l.a)(e,2),t=a[0],r=a[1];return Object(c.jsx)("div",{children:Object(c.jsx)(P.a,{in:t,children:Object(c.jsx)(K.a,{severity:"error",action:Object(c.jsx)(H.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){r(!1)},children:Object(c.jsx)(w.a,{fontSize:"inherit"})}),children:"Huppista! Virhe karttaa ladattaessa."})})})},R=t(34);t(85);T.a.accessToken="pk.eyJ1Ijoid3VvY2NpIiwiYSI6ImNrZzd6cTRsODBja20yd3FvdG1lc2I5b2kifQ.w-yWhkZL-CVnRSIqkUhEag";var B=function(e){var a=e.pubsToShow,t=Object(n.useRef)(null),r=Object(n.useRef)(null),s=Object(n.useRef)(!1),o=Object(n.useRef)([]),i=Object(n.useState)(null),u=Object(l.a)(i,2),d=u[0],m=u[1],k=[23.8513,61.4497];return("HerWood"===a.current[0].category||a.current[0].length>0&&"HerWood"===a.current[0].category)&&(s.current=!0),Object(n.useEffect)((function(){r.current=new T.a.Map({container:t.current,style:"mapbox://styles/mapbox/dark-v10",center:s.current?k:[23.7756,61.5008],zoom:12}),console.log(a),o.current=function(e){console.log(e);var a=[];return e[0].length>1?e[0].map((function(e){return a.push(encodeURIComponent(e.address))})):a.push(encodeURIComponent(e[0].address)),a}(a.current),console.log(o),o.current.forEach((function(e,t){var n="https://api.mapbox.com/geocoding/v5/mapbox.places/"+e+".json?proximity=23.75, 61.5&access_token="+T.a.accessToken;(function(){var e=Object(S.a)(f.a.mark((function e(){var s,o,i,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n);case 3:return s=e.sent,e.next=6,s.json();case 6:o=e.sent,console.log(o.features),i=o.features[0].center,console.log(i),c=new T.a.Popup({offset:25}).setMaxWidth("300px").setText(a.current[0].length>1?t+1+". "+a.current[0][t].name:a.current[t].name),new T.a.Marker({color:"#dc2800",scale:1.2}).setLngLat([i[0],i[1]]).setPopup(c).addTo(r.current),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),m(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()})),r.current.addControl(new T.a.FullscreenControl),r.current.addControl(new T.a.NavigationControl,"top-right")}),[]),Object(c.jsx)("div",{children:null!=d?Object(c.jsx)(C,{}):Object(c.jsx)("div",{ref:t,className:"map-container"})})},A=function(e){var a=e.pubsToShow,t=Object(n.useState)(!1),r=Object(l.a)(t,2),s=r[0],i=r[1],u=Object(n.useRef)(!1),d=Object(n.useRef)(""),m=function(e){u.current=!0,d.current=e.target.textContent,console.log(d)};return Object(c.jsxs)("div",{className:"pub-results",children:[a.current[0].length>1?Object(c.jsxs)("div",{className:"pub-list",children:[u&&Object(c.jsx)(O,{showDialog:u,pubName:d}),a.current[0].map((function(e,a){return Object(c.jsxs)("div",{children:[Object(c.jsxs)(o.a,{color:"primary",variant:"h6",onClick:m,className:"pub-list-name",style:{textDecoration:"underline",width:"400px",marginTop:"-20px"},children:[a+1,". ",e.name]}),Object(c.jsx)("p",{children:e.address})]},e.name)}))]}):Object(c.jsxs)("div",{className:"pub-onlyone",children:[u&&Object(c.jsx)(O,{showDialog:u,pubName:d}),Object(c.jsx)(o.a,{color:"primary",variant:"h5",onClick:m,className:"pub-onlyone-name",style:{textDecoration:"underline",width:"400px"},children:a.current[0].name}),Object(c.jsx)(o.a,{variant:"body2",children:a.current[0].address})]}),s?Object(c.jsxs)("div",{className:"map-div",children:[Object(c.jsx)(B,{pubsToShow:a}),Object(c.jsx)(b.a,{onClick:function(){return i(!s)},style:{textDecoration:"underline"},children:"Piilota kartta"})]}):Object(c.jsx)(b.a,{onClick:function(){return i(!s)},style:{textDecoration:"underline",fontSize:"16px"},children:"N\xe4yt\xe4 kartalla"})]})},I=t(135),W=function(e){var a=e.districtValue,t=Object(n.useState)(""),r=Object(l.a)(t,2),s=r[0],i=r[1],u=Object(n.useState)(!1),d=Object(l.a)(u,2),m=d[0],k=d[1],h=Object(n.useState)(0),y=Object(l.a)(h,2),g=y[0],p=y[1],v=Object(n.useState)(!1),O=Object(l.a)(v,2),x=O[0],f=O[1],S=Object(n.useRef)([]),M=Object(n.useRef)(),T=Object(n.useRef)();function K(e){return Object(c.jsxs)("div",{className:"progress-loader",children:[Object(c.jsx)(I.a,Object(j.a)({variant:"determinate"},e)),Object(c.jsx)(o.a,{variant:"subtitle1",color:"textSecondary",children:"".concat(Math.round(e.value),"% lasketaan todenn\xe4k\xf6isyyksi\xe4...")})]})}Object(n.useEffect)((function(){"1"===a?i("MainStreet"):"2"===a?i("TamKal"):"3"===a&&i("HerWood")}),[a]),Object(n.useEffect)((function(){var e=setInterval((function(){p((function(e){if(100===e)return 0;var a=10*Math.random();return Math.min(e+a,100)}))}),180);return function(){clearTimeout(e.current)}}),[]);var H=function(e){window.scrollTo(0,100),S.current.length>0&&(S.current=[]),k(!1);var a=e.target.textContent;if(T.current="Arvo kapakka"!==a,!x){var t=function(e,a){var t=R.filter((function(a){return a.category===e}));if(!0===a){for(var n=[];n.length<5;){var r=t[Math.floor(Math.random()*t.length)];n.includes(r)||n.push(r)}return n}return t[Math.floor(Math.random()*t.length)]}(s,T.current);S.current.push(t),f(!0),p(10),M.current=window.setTimeout((function(){k(!0),f(!1)}),3e3)}};return m||x?x&&!m?Object(c.jsx)("div",{className:"progress-loader",children:Object(c.jsx)(K,{value:g})}):Object(c.jsxs)("div",{className:"results",children:[Object(c.jsx)(A,{pubsToShow:S}),Object(c.jsxs)("div",{className:"buttons",children:[Object(c.jsx)(b.a,{variant:"contained",className:"random-pub-tour-button",onClick:H,children:"Arvo kapakka"}),Object(c.jsx)(b.a,{variant:"contained",className:"random-pub-tour-button",onClick:H,children:"Arvo kapakkakierros"})]})]}):Object(c.jsxs)("div",{className:"buttons",children:[Object(c.jsx)(b.a,{variant:"contained",className:"random-pub-tour-button",onClick:H,children:"Arvo kapakka"}),Object(c.jsx)(b.a,{variant:"contained",className:"random-pub-tour-button",onClick:H,children:"Arvo kapakkakierros"})]})},V=function(){var e=Object(n.useState)("1"),a=Object(l.a)(e,2),t=a[0],r=a[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"select-menu",children:Object(c.jsxs)(d.a,{children:[Object(c.jsx)(k.a,{htmlFor:"district-native-simple",children:"Valitse alueesi"}),Object(c.jsxs)(m.a,{id:"select",value:t,onChange:function(e){return function(e){var a=e.target.value;r(a)}(e)},inputProps:{name:"district",id:"district-native-simple"},children:[Object(c.jsx)("option",{value:1,children:"H\xe4meenkatu"}),Object(c.jsx)("option",{value:2,children:"Tammela & Kaleva"}),Object(c.jsx)("option",{value:3,children:"Hervanta"})]})]})}),Object(c.jsx)("div",{children:Object(c.jsx)(W,{districtValue:t})})]})},D=t.p+"static/media/skyline-tampere.72233d18.png",L=t(137),z=t(139),E=t(140),J=t(138),U=function(){var e=R.filter((function(e){return"MainStreet"===e.category})).sort((function(e,a){return e.name.localeCompare(a.name)})),a=R.filter((function(e){return"TamKal"===e.category})).sort((function(e,a){return e.name.localeCompare(a.name)})),t=R.filter((function(e){return"HerWood"===e.category})).sort((function(e,a){return e.name.localeCompare(a.name)}));return Object(c.jsxs)("div",{className:"footer",children:[Object(c.jsx)("img",{src:D,alt:"Tampere city skyline black charasteristics."}),Object(c.jsxs)("div",{className:"footerTexts",children:[Object(c.jsx)(o.a,{className:"footer-instructions",variant:"body2",children:"Otathan huomioon, ett\xe4 osa H\xe4meenkadun kapakoista on my\xf6s l\xe4hikorttelin alueella olevia kapakoita."}),Object(c.jsx)(o.a,{variant:"body2",children:"Osa kapakoista saattaa olla osittain my\xf6s y\xf6kerhoja. Generaattori ei tuota pelkki\xe4 y\xf6kerhoja tuloksena."}),Object(c.jsx)(o.a,{variant:"h6",children:Object(c.jsx)("b",{children:"Arvonnassa mukana:"})}),Object(c.jsxs)(L.a,{className:"pubs-list-footer",children:[Object(c.jsxs)(J.a,{disableSticky:!0,color:"primary",children:["H\xe4meenkatu (",e.length,")"]}),e.map((function(e){return Object(c.jsx)(z.a,{children:Object(c.jsx)(E.a,{disableTypography:!0,children:e.name})},e.name)})),Object(c.jsxs)(J.a,{disableSticky:!0,color:"primary",children:["Tammela & Kaleva (",a.length,")"]}),a.map((function(e){return Object(c.jsx)(z.a,{children:Object(c.jsx)(E.a,{disableTypography:!0,children:e.name})},e.name)})),Object(c.jsxs)(J.a,{disableSticky:!0,color:"primary",children:["Hervanta (",t.length,")"]}),t.map((function(e){return Object(c.jsx)(z.a,{children:Object(c.jsx)(E.a,{disableTypography:!0,children:e.name})},e.name)}))]})]})]})};var F=function(){return Object(c.jsxs)("div",{className:"main",children:[Object(c.jsx)(u,{}),Object(c.jsx)(V,{}),Object(c.jsx)(U,{})]})};window.React1=t(0),s.a.render(Object(c.jsx)(F,{}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.71a57f98.chunk.js.map